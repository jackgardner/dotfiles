- defaults:
    link:
      relink: true

- clean: ['~', '~/.config']

- create:
    - ~/.config
    - ~/downloads
    - ~/.vim/undo-history

- link:
    ~/.tmux.conf: tmux/tmux.conf
    ~/.bazelrc: .bazelrc
    ~/.gitconfig: .gitconfig
    ~/.tmux-linux: tmux/.tmux-linux
    ~/.tmux-osx: tmux/.tmux-osx
    ~/.config/:
      glob: true
      path: config/.config/**
      relink: true
      force: true
    # tmux.conf: ~/.tmux.conf
    # config/fish: ~/.config/fish


- shell:
    - command: bash -c 'sudo apt install exa tmux neovim fzf fish -y'
      description: Installing fish
    - command: |
        wget https://github.com/sharkdp/bat/releases/download/v0.15.4/bat_0.15.4_amd64.deb 
        sudo dpkg -i ./bat_0.15.4_amd64.deb
        rm bat*
      description: Downloading bat
    - [git submodule update --init --recursive, Installing submodules]
    - [sudo chsh -s `which fish` vscode, Setting fish as default]
  
